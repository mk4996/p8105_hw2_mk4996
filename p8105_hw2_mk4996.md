p8105_hw2_mk4996
================
Miho Kawanami
2025-09-27

# Problem 1

## First: Cleaning the data in pols-month.csv.

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.4     ✔ readr     2.1.5
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.1
    ## ✔ ggplot2   3.5.2     ✔ tibble    3.3.0
    ## ✔ lubridate 1.9.4     ✔ tidyr     1.3.1
    ## ✔ purrr     1.1.0     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
pols_df = read_csv(file = "./pols-month.csv", 
                          na = c(".", "NA", ""), 
                          show_col_types = FALSE) |>
  janitor::clean_names() |>
  separate(mon, into = c("year", "month", "day"), sep = "-", convert = TRUE) |>
  mutate(
    month = factor(month.name[month], levels = month.name, ordered = TRUE),
    president = case_when(
      prez_gop == 1 ~ "gop",
      prez_dem == 1 ~ "dem",
      TRUE ~ NA_character_
    )) |>
  select(-day, -prez_dem, -prez_gop)

  head(pols_df)
```

    ## # A tibble: 6 × 9
    ##    year month    gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##   <int> <ord>      <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ## 1  1947 January       23      51     253      23      45     198 dem      
    ## 2  1947 February      23      51     253      23      45     198 dem      
    ## 3  1947 March         23      51     253      23      45     198 dem      
    ## 4  1947 April         23      51     253      23      45     198 dem      
    ## 5  1947 May           23      51     253      23      45     198 dem      
    ## 6  1947 June          23      51     253      23      45     198 dem

## Second: Cleaning the data in snp.csv.

``` r
snp_df = read_csv(file = "./snp.csv",
                         na = c(".", "NA", ""),
                         show_col_types = FALSE) |>
  janitor::clean_names() |>
  separate(date, into = c("month", "day", "year"), sep = "/", convert = TRUE) |>
  mutate(
  year = ifelse(year < 20, year + 2000, year + 1900),  
  month = factor(month.name[month], levels = month.name, ordered = TRUE)) |>
  select(year, month, close) |>
  arrange(year, month)

  head(snp_df)
```

    ## # A tibble: 6 × 3
    ##    year month    close
    ##   <dbl> <ord>    <dbl>
    ## 1  1950 January   17.0
    ## 2  1950 February  17.2
    ## 3  1950 March     17.3
    ## 4  1950 April     18.0
    ## 5  1950 May       18.8
    ## 6  1950 June      17.7

## Third: Tidying the unemployment data

``` r
unemp_df = read_csv(file = "./unemployment.csv",
                         na = c(".", "NA", ""),
                         show_col_types = FALSE) |>
  janitor::clean_names() |>
  pivot_longer(-year, names_to = "month", values_to = "unemployment") |>
  mutate(
    month = match(tolower(month), tolower(month.abb)),
    month = factor(month.name[month], levels = month.name, ordered = TRUE)
  ) |>
  arrange(year, month)

  head(unemp_df)
```

    ## # A tibble: 6 × 3
    ##    year month    unemployment
    ##   <dbl> <ord>           <dbl>
    ## 1  1948 January           3.4
    ## 2  1948 February          3.8
    ## 3  1948 March             4  
    ## 4  1948 April             3.9
    ## 5  1948 May               3.5
    ## 6  1948 June              3.6

## Join the datasets

``` r
pols_snp  = left_join(pols_df, snp_df,  by = c("year","month"))
final_df  = left_join(pols_snp, unemp_df, by = c("year","month")) |>
  arrange(year, month)

  head(final_df)
```

    ## # A tibble: 6 × 11
    ##    year month    gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president close
    ##   <dbl> <ord>      <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>     <dbl>
    ## 1  1947 January       23      51     253      23      45     198 dem          NA
    ## 2  1947 February      23      51     253      23      45     198 dem          NA
    ## 3  1947 March         23      51     253      23      45     198 dem          NA
    ## 4  1947 April         23      51     253      23      45     198 dem          NA
    ## 5  1947 May           23      51     253      23      45     198 dem          NA
    ## 6  1947 June          23      51     253      23      45     198 dem          NA
    ## # ℹ 1 more variable: unemployment <dbl>

## Write a short paragraph about these datasets

The `pols-month` dataset contained the number of national politicians
who are democratic or republican at any given time. The `snp` dataset
contained Standard & Poor’s stock market index (S&P), often used as a
representative measure of stock market as a whole. The `unemployment`
dataset reports monthly unemployment percentages.

After merging, the resulting dataset has 822 rows and 11 columns,
ranging years 1947 to 2015.  
Key variables include `year`, `month`, `president`, `close` (the closing
values of the S&P stock index), and `unemployment`.

# Problem2

## Cleaning the data in Mr. Trash Wheel

``` r
library(readxl)
mr_trash = 
  read_excel("./202409 Trash Wheel Collection Data.xlsx", sheet = "Mr. Trash Wheel", range = "A2:N655") |> 
  janitor::clean_names() |> 
  drop_na(dumpster) |> 
  mutate(sports_balls = as.integer(round(sports_balls))) |> 
  mutate(trash_wheel = "Mr. Trash Wheel")
```

## Cleaning the data in Professor Trash Wheel

``` r
prof_trash = 
  read_excel("./202409 Trash Wheel Collection Data.xlsx", sheet = "Professor Trash Wheel", range = "A2:M117") |> 
  janitor::clean_names() |> 
  drop_na(dumpster) |> 
  mutate(trash_wheel = "Professor Trash Wheel")
```
